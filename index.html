<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Task Manager</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="brand">
        <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"/></svg>
        <h1>Task Manager</h1>
      </div>

      <div class="header-actions">
        <div class="search">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 5 1.5-1.5-5-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
          <input id="searchInput" type="search" placeholder="Search tasks..." autocomplete="off" />
        </div>

        <button id="addTaskBtn" class="btn primary">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M19 11H13V5h-2v6H5v2h6v6h2v-6h6z"/></svg>
          Add Task
        </button>

        <button id="exportBtn" class="btn">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7 7-7Z"/></svg>
          Export
        </button>

        <label for="importFile" class="btn">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M5 20h14v-2H5M5 4h14v2H5m7 2 7 7h-4v6h-6v-6H5l7-7Z"/></svg>
          Import
        </label>
        <input id="importFile" type="file" accept="application/json" hidden />
      </div>
    </header>

    <section class="toolbar">
      <div class="segmented" role="tablist" aria-label="Status filter">
        <button class="seg-btn active" data-status="all" role="tab" aria-selected="true">All</button>
        <button class="seg-btn" data-status="open" role="tab" aria-selected="false">Open</button>
        <button class="seg-btn" data-status="done" role="tab" aria-selected="false">Done</button>
      </div>

      <div class="filters">
        <label>
          <span>Priority</span>
          <select id="priorityFilter">
            <option value="all">All</option>
            <option value="high">High</option>
            <option value="medium">Medium</option>
            <option value="low">Low</option>
          </select>
        </label>

        <label>
          <span>Due</span>
          <select id="dueFilter">
            <option value="all">All</option>
            <option value="today">Today</option>
            <option value="week">This week</option>
            <option value="overdue">Overdue</option>
            <option value="none">No due date</option>
          </select>
        </label>

        <label>
          <span>Sort</span>
          <select id="sortSelect">
            <option value="dueDate">Due date</option>
            <option value="priority">Priority</option>
            <option value="createdAt">Created</option>
            <option value="title">Title</option>
          </select>
        </label>

        <button id="toggleSortDir" class="btn" title="Toggle sort order" aria-label="Toggle sort order">â–²</button>
      </div>
    </section>

    <main class="content">
      <section id="taskList" class="task-list" aria-live="polite"></section>
      <div id="emptyState" class="empty hidden">
        <svg width="56" height="56" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14l4-4h12c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>
        <h2>No tasks yet</h2>
        <p>Create your first task to get started.</p>
        <button class="btn primary" id="emptyAddBtn">Add Task</button>
      </div>
    </main>

    <footer class="app-footer">
      <div id="counts"></div>
      <button id="clearCompletedBtn" class="btn subtle">Clear completed</button>
    </footer>

    <!-- Modal -->
    <div id="taskModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-card">
        <div class="modal-header">
          <h3 id="modalTitle">Add task</h3>
          <button class="icon-btn" id="closeModalBtn" aria-label="Close">
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
          </button>
        </div>
        <form id="taskForm" class="form" novalidate>
          <input type="hidden" id="taskId" />
          <div class="field">
            <label for="title">Title <span aria-hidden="true">*</span></label>
            <input id="title" name="title" type="text" placeholder="e.g., Prepare meeting agenda" required />
            <small class="error" id="titleError"></small>
          </div>
          <div class="field">
            <label for="description">Description</label>
            <textarea id="description" name="description" rows="4" placeholder="Optional details..."></textarea>
          </div>
          <div class="grid">
            <div class="field">
              <label for="dueDate">Due date</label>
              <input id="dueDate" name="dueDate" type="date" />
            </div>
            <div class="field">
              <label for="priority">Priority</label>
              <select id="priority" name="priority">
                <option value="medium">Medium</option>
                <option value="high">High</option>
                <option value="low">Low</option>
              </select>
            </div>
          </div>
          <div class="field">
            <label for="tags">Tags (comma separated)</label>
            <input id="tags" name="tags" type="text" placeholder="work, personal" />
          </div>
          <div class="form-actions">
            <button type="button" class="btn" id="cancelBtn">Cancel</button>
            <button type="submit" class="btn primary" id="saveBtn">Save</button>
          </div>
        </form>
      </div>
    </div>

    <script src="./app.js" defer></script>
  </body>
  </html>


